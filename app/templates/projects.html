{% extends  "base.html" %}

{% block title %}Projecten{% endblock %}

{% block content %}

<section id="projects-section-form">
    <h1>Alle <span class="green-name">Projecten</span></h1>
    <form action="/projecten" method="">

        <div class="form-search-bar">
            <input type="text" class="filter-search" placeholder="Zoeken...">
        </div>

        <div class="mobile-filter">
            <div class="mobile-filter-header">Filters</div>
            <div class="mobile-filter-content">
                <div class="custom-select" data-filter="language">
                    <div class="selected">Programmeertaal</div>
                    <ul class="options">
                        <li data-value="python">Python</li>
                        <li data-value="php">PHP</li>
                        <li data-value="javascript">JavaScript</li>
                        <li data-value="java">Java</li>
                    </ul>
                </div>
            
                <div class="custom-select" data-filter="year">
                    <div class="selected">Jaartal</div>
                    <ul class="options">
                        <li data-value="2025">2025</li>
                        <li data-value="2024">2024</li>
                        <li data-value="2023">2023</li>
                    </ul>
                </div>
            
                <div class="custom-select" data-filter="framework">
                    <div class="selected">Framework</div>
                    <ul class="options">
                        <li data-value="react-native">React Native</li>
                        <li data-value="android-studio">Android Studio</li>
                        <li data-value="flask">Flask</li>
                        <li data-value="django">Django</li>
                        <li data-value="electron">Electron</li>
                        <li data-value="arduino">Arduino</li>
                    </ul>
                </div>
            
                <button type="button" class="reset-filters">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="rgba(51, 81, 142, 1)">
                        <path d="M12 4a8 8 0 1 1-7.75 10h1.53a6.5 6.5 0 1 0 6.22-8.5V1L8 5l4 4V4z"/>
                    </svg>
                </button>
            </div>
        </div>

       <div class="form-selections">
            <div class="custom-select" data-filter="language">
                <div class="selected">Programmeertaal</div>
                <ul class="options">
                    <li data-value="python">Python</li>
                    <li data-value="php">PHP</li>
                    <li data-value="javascript">JavaScript</li>
                    <li data-value="java">Java</li>
                </ul>
            </div>

            <div class="custom-select" data-filter="year">
                <div class="selected">Jaartal</div>
                <ul class="options">
                    <li data-value="2025">2025</li>
                    <li data-value="2024">2024</li>
                    <li data-value="2023">2023</li>
                </ul>
            </div>

            <div class="custom-select" data-filter="framework">
                <div class="selected">Framework</div>
                <ul class="options">
                    <li data-value="react-native">React Native</li>
                    <li data-value="android-studio">Android Studio</li>
                    <li data-value="flask">Flask</li>
                    <li data-value="django">Django</li>
                    <li data-value="electron">Electron</li>
                    <li data-value="arduino">Arduino</li>
                </ul>
            </div>
            
            <button type="button" class="reset-filters">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="rgba(51, 81, 142, 1)">
                    <path d="M12 4a8 8 0 1 1-7.75 10h1.53a6.5 6.5 0 1 0 6.22-8.5V1L8 5l4 4V4z"/>
                </svg>
            </button>

       </div>

    </form>

</section>

<section id="projects-section-all">
    {% if projects %}
        {% for project in projects %}

            <div class="progress-child-container" data-year="{{ project.year }}" data-tags="{{ project.languages_and_frameworks | join(',') }}">

                <div class="progress-img-parent-container">
                    <div class="progress-img-container">
                        {% set main_image = project.images | selectattr("is_main_image", "equalto", True) | first %}
                        {% if main_image %}
                            <img src="{{ url_for('static', filename='images/' ~ main_image.image_url) }}" alt="{{ main_image.alt_text }}">
                        {% endif %}
                    </div>
                </div>

                <div class="progress-content-container">
                    <h3>{{project.title}}</h3>
                    <div class="progress-tags content-tags">
                        {% for tag in project.languages_and_frameworks %}
                             <div class="stat">{{ "SQL" if tag == "azuresqldatabase" else tag}}</div>
                        {% endfor %}
                    </div>
                    <p class="progress-paragraph">
                        {{project.excerpt}}
                    </p>
                    <div class="container" style="position: relative;">
                        <div class="progress-button">
                            <a href="">Lees Meer</a>
                        </div>
                    </div>
                </div>
            </div>

        {% endfor %}
    
    {% else %}
        
        <p>Helaas, geen projecten gevonden!</p>

    {% endif %}
</section>



<section class="projects-featured-section">
    <h2>Uitgelichte <span class="green-name">Projecten</span></h2>
    <div class="carousel">
        <button class="carousel-arrow left-arrow">&#10094;</button>
        {% for project in projects if project.featured %}
            {% set main_image = (project.images | selectattr("is_main_image", "equalto", True) | list | first) or (project.images | first) %}
            <div class="card-wrapper skills-container" data-card="{{ loop.index }}">
                <div class="card">
                    <svg viewBox="0 0 340 520" xmlns="http://www.w3.org/2000/svg">
                        <path class="card-shape" stroke="rgba(51, 81, 142, 0.1)" stroke-width="3" />
                        <path class="card-shape-inner" stroke="rgba(51, 81, 142, 0.5)" stroke-width="20" />
                        <text
                          class="card-title"
                          x="170"
                          y="25"
                          text-anchor="middle"
                          alignment-baseline="middle"
                          font-size="20"
                          font-family="Goldman"
                          fill="rgba(51, 81, 142, 1))"
                        >
                          {{ project.title }}
                        </text>
                    </svg>
                    <div class="card-content">
                        <div class="card-image">
                            {% if main_image %}
                                <img
                                  src="{{ url_for('static', filename='images/' ~ main_image.image_url) }}"
                                  alt="{{ main_image.alt_text }}"
                                />
                            {% else %}
                                <img
                                  src="{{ url_for('static', filename='images/placeholder.jpg') }}"
                                  alt="{{ project.title }} project"
                                />
                            {% endif %}
                        </div>
                        <div class="card-stats">
                            {% for tech in project.languages_and_frameworks %}
                                 <div class="stat">{{ "SQL" if tech == "azuresqldatabase" else tech }}</div>
                            {% endfor %}
                        </div>
                        <div class="card-description">
                            <p>{{ project.excerpt }}</p>
                        </div>
                        <div class="card-footer">
                            <a href="/">GA</a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        <button class="carousel-arrow right-arrow">&#10095;</button>
    </div>
    <div class="all-projects-button">
        <a href="/">
            Alle Projecten
        </a>
    </div>
</section>
{% endblock %}